<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ù„ÙŠÙ„ Ø´Ø±Ø¹ÙŠ - Ø³Ù†Ø¯Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­ÙˆÙŠÙ„ 800,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #00a19f 0%, #0a3433 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #00a19f;
        }
        
        .section-number {
            background: linear-gradient(135deg, #00a19f 0%, #0a3433 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,161,159,0.3);
        }
        
        .section-title {
            font-size: 28px;
            font-weight: 800;
            color: #0a3433;
            margin: 0;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 3px solid #ffffff;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .info-card {
            background: linear-gradient(135deg, rgba(0,161,159,0.1) 0%, rgba(10,52,51,0.1) 100%);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid rgba(0,161,159,0.2);
        }
        
        .problematic-card {
            background: linear-gradient(135deg, rgba(220,53,69,0.1) 0%, rgba(200,35,51,0.1) 100%);
            border: 2px solid rgba(220,53,69,0.3);
        }
        
        .scenario-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .scenario-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            border: 3px solid rgba(0,161,159,0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .scenario-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: #00a19f;
            box-shadow: 0 15px 30px rgba(0,161,159,0.2);
        }
        
        .scenario-card.active {
            background: linear-gradient(135deg, #00a19f 0%, #0a3433 100%);
            color: white;
            border-color: white;
            transform: translateY(-5px) scale(1.05);
        }
        
        .scenario-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #00a19f 0%, #0a3433 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        
        .scenario-card.active .scenario-icon {
            background: rgba(255,255,255,0.2);
        }
        
        .results-container {
            background: linear-gradient(135deg, rgba(0,161,159,0.05) 0%, rgba(10,52,51,0.05) 100%);
            border: 2px solid rgba(0,161,159,0.2);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }
        
        .calculation-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
            align-items: center;
        }
        
        .calc-label {
            font-size: 18px;
            font-weight: 600;
            color: #0a3433;
        }
        
        .calc-value {
            font-size: 24px;
            font-weight: 800;
            color: #00a19f;
            text-align: left;
            direction: ltr;
        }
        
        .final-outcome {
            background: linear-gradient(135deg, #28a745 0%, #155724 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            margin: 30px 0;
        }
        
        .variable-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(0,161,159,0.3);
            border-radius: 10px;
            font-size: 16px;
            font-family: 'Cairo', sans-serif;
            background: rgba(255,255,255,0.9);
            transition: all 0.3s ease;
        }
        
        .variable-input:focus {
            outline: none;
            border-color: #00a19f;
            box-shadow: 0 0 0 3px rgba(0,161,159,0.2);
        }
        
        .conclusion-section {
            background: linear-gradient(135deg, #28a745 0%, #155724 100%);
            color: white;
        }
        
        .conclusion-section .section-number {
            background: rgba(255,255,255,0.2);
        }
        
        .conclusion-section .section-title {
            color: white;
        }
        
        .recommendation-box {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .hidden {
            display: none;
        }
        
        h3 {
            color: #0a3433;
            font-size: 22px;
            font-weight: 700;
            margin: 20px 0 15px 0;
        }
        
        p, li {
            color: #0a3433;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .problematic-highlight {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            padding: 5px 10px;
            border-radius: 8px;
            font-weight: bold;
        }
        
        ul {
            margin-right: 20px;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }
        
        .step-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(0,161,159,0.3);
            transition: all 0.3s ease;
        }
        
        .step-dot.active {
            background: #00a19f;
            transform: scale(1.3);
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Section 1: Introduction & Overview -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">1</div>
                <h1 class="section-title">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ØµÙÙ‚Ø©</h1>
            </div>
            
            <p style="font-size: 20px; margin-bottom: 25px;">
                <strong>Ø§Ù„Ù‡Ø¯Ù:</strong> ØªØ­Ù„ÙŠÙ„ Ø´Ø±Ø¹ÙŠ Ù„Ø³Ù†Ø¯ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ù‚ÙŠÙ…Ø© 800,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ Ù„Ø´Ø±ÙƒØ© Ø²Ø±Ø§Ø¹ÙŠØ© Ø¹Ù…Ø§Ù†ÙŠØ©
            </p>
            
            <div class="warning-box">
                <h3 style="color: white; margin-top: 0;">âš ï¸ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø®Ø§ÙˆÙ Ø§Ù„Ø´Ø±Ø¹ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div>
                        <strong>1ï¸âƒ£ Ø±Ø¨Ø§ Ø§Ù„Ù†Ø³ÙŠØ¦Ø©:</strong><br>
                        ÙØ§Ø¦Ø¯Ø© Ø«Ø§Ø¨ØªØ© 10% Ø³Ù†ÙˆÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Ø¶
                    </div>
                    <div>
                        <strong>2ï¸âƒ£ Ø±Ø¨Ø§ Ø§Ù„ÙØ¶Ù„:</strong><br>
                        Ø®ØµÙ… 20% ÙÙŠ Ø¨Ø¹Ø¶ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„
                    </div>
                </div>
            </div>
            
            <p><strong>Ù…Ø§ Ø³Ù†Ø­Ù„Ù„Ù‡:</strong> ÙƒÙŠÙ ØªØ¹Ù…Ù„ Ø¢Ù„ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙŠ ÙƒÙ„ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ÙˆØ£ÙŠÙ† ØªÙƒÙ…Ù† Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø±Ø¹ÙŠØ© ØªØ­Ø¯ÙŠØ¯Ø§Ù‹.</p>
        </div>

        <!-- Section 2: Fixed Contract Terms -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">2</div>
                <h1 class="section-title">Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø«Ø§Ø¨ØªØ© ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯</h1>
            </div>
            
            <p>Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ· Ù…Ø­Ø¯Ø¯Ø© ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§:</p>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3>ğŸ’° Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                    <ul>
                        <li><strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£ØµÙ„ÙŠ:</strong> 800,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</li>
                        <li><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±:</strong> 31 ÙŠÙˆÙ„ÙŠÙˆ 2026</li>
                        <li><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚:</strong> 31 ÙŠÙˆÙ„ÙŠÙˆ 2029 (3 Ø³Ù†ÙˆØ§Øª)</li>
                        <li><strong>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…:</strong> 4,000,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</li>
                    </ul>
                </div>
                
                <div class="info-card problematic-card">
                    <h3>âš ï¸ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ù‚Ù„Ù‚ Ø´Ø±Ø¹ÙŠØ§Ù‹</h3>
                    <ul>
                        <li><strong>Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØ§Ø¦Ø¯Ø©:</strong> <span class="problematic-highlight">10% Ø³Ù†ÙˆÙŠØ§Ù‹ (Ø¨Ø³ÙŠØ·)</span></li>
                        <li><strong>Ø®ØµÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„:</strong> <span class="problematic-highlight">20% ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø§Ù„Ø§Øª</span></li>
                        <li><strong>Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø£Ø¯Ø§Ø©:</strong> Ø¯ÙŠÙ† ÙŠØ­Ù…Ù„ ÙØ§Ø¦Ø¯Ø© Ù…Ø­Ø¯Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>ğŸ¯ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ­ÙˆÙŠÙ„</h3>
                    <ul>
                        <li><strong>ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­:</strong> 614,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ (12 Ø´Ù‡Ø±)</li>
                        <li><strong>Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‡Ù„:</strong> Ø¬ÙˆÙ„Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</li>
                        <li><strong>Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠ:</strong> Ø¨Ø¹Ø¯ 31 ÙŠÙˆÙ„ÙŠÙˆ 2027</li>
                        <li><strong>Ø­Ø¯Ø« Ø§Ù„Ø³ÙŠÙˆÙ„Ø©:</strong> Ø¨ÙŠØ¹ Ø§Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ Ø·Ø±Ø­ Ø¹Ø§Ù…</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>ğŸ›¡ï¸ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±</h3>
                    <ul>
                        <li><strong>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„:</strong> ØªÙˆØ³Ø¹ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©ØŒ Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…Ù„</li>
                        <li><strong>Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:</strong> ØªÙ‚Ø§Ø±ÙŠØ± Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠØ© ÙˆÙ…Ø¯Ù‚Ù‚Ø©</li>
                        <li><strong>Ù‚ÙŠÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙƒØ©:</strong> Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥ØµØ¯Ø§Ø± Ø£Ø³Ù‡Ù… Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ§ÙÙ‚Ø©</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 3: Scenario Analysis -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">3</div>
                <h1 class="section-title">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª</h1>
            </div>
            
            <p>Ø§Ø®ØªØ± Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ù„ÙÙ‡Ù… ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØ§Ù„Ù…Ø®Ø§ÙˆÙ Ø§Ù„Ø´Ø±Ø¹ÙŠØ© ÙÙŠ ÙƒÙ„ Ø­Ø§Ù„Ø©:</p>
            
            <div class="scenario-selector">
                <div class="scenario-card active" data-scenario="equity">
                    <div class="scenario-icon">ğŸ’¸</div>
                    <h3 style="margin: 0; color: inherit;">Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‡Ù„</h3>
                    <p style="margin: 10px 0 0 0; color: inherit; font-size: 14px;">Ø¬ÙˆÙ„Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</p>
                    <div style="background: rgba(220,53,69,0.2); padding: 5px; border-radius: 5px; margin-top: 10px; font-size: 12px;">
                        âš ï¸ ÙŠØªØ¶Ù…Ù† Ø®ØµÙ… 20%
                    </div>
                </div>
                
                <div class="scenario-card" data-scenario="ebitda">
                    <div class="scenario-icon">ğŸ“Š</div>
                    <h3 style="margin: 0; color: inherit;">ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
                    <p style="margin: 10px 0 0 0; color: inherit; font-size: 14px;">614,000 Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</p>
                </div>
                
                <div class="scenario-card" data-scenario="optional">
                    <div class="scenario-icon">ğŸ”„</div>
                    <h3 style="margin: 0; color: inherit;">Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠ</h3>
                    <p style="margin: 10px 0 0 0; color: inherit; font-size: 14px;">Ø¨Ø¹Ø¯ ÙŠÙˆÙ„ÙŠÙˆ 2027</p>
                </div>
                
                <div class="scenario-card" data-scenario="backstop">
                    <div class="scenario-icon">â°</div>
                    <h3 style="margin: 0; color: inherit;">Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚</h3>
                    <p style="margin: 10px 0 0 0; color: inherit; font-size: 14px;">ÙŠÙˆÙ„ÙŠÙˆ 2029</p>
                </div>
            </div>
            
            <div id="scenarioInputs" style="margin: 30px 0;">
                <!-- Dynamic inputs -->
            </div>
            
            <div class="results-container" id="calculationResults">
                <!-- Results will be shown here -->
            </div>
        </div>

        <!-- Section 4: Shariah Analysis -->
        <div class="section">
            <div class="section-header">
                <div class="section-number">4</div>
                <h1 class="section-title">Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø±Ø¹ÙŠ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</h1>
            </div>
            
            <div class="info-grid">
                <div class="info-card problematic-card">
                    <h3>âŒ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø­Ø±Ù…Ø© Ù‚Ø·Ø¹ÙŠØ§Ù‹</h3>
                    <ul>
                        <li><strong>Ø±Ø¨Ø§ Ø§Ù„Ù†Ø³ÙŠØ¦Ø©:</strong> ÙØ§Ø¦Ø¯Ø© 10% Ù…Ø­Ø¯Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Ø¶</li>
                        <li><strong>Ø±Ø¨Ø§ Ø§Ù„ÙØ¶Ù„:</strong> Ø®ØµÙ… 20% ÙŠØ¶Ù…Ù† Ø¹Ø§Ø¦Ø¯Ø§Ù‹ Ø£Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù‚Ø±Ø¶</li>
                        <li><strong>Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø±Ø¶ ÙˆØ§Ù„Ù…Ù†ÙØ¹Ø©:</strong> Ø§Ù„Ù‚Ø±Ø¶ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø± Ù†ÙØ¹Ø§Ù‹ Ù…Ø­Ø±Ù…</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>âš–ï¸ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ·ÙˆÙŠØ±</h3>
                    <ul>
                        <li><strong>Ø¢Ù„ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„:</strong> ÙÙƒØ±Ø© Ø§Ù„ØªØ­ÙˆÙ„ Ù…Ù† Ø¯ÙŠÙ† Ù„Ù…Ù„ÙƒÙŠØ© Ù…Ù‚Ø¨ÙˆÙ„Ø©</li>
                        <li><strong>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„:</strong> ÙÙŠ Ø£Ù†Ø´Ø·Ø© Ø­Ù„Ø§Ù„ (Ø²Ø±Ø§Ø¹Ø©)</li>
                        <li><strong>Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:</strong> Ø´ÙØ§ÙÙŠØ© ÙˆØ­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±</li>
                        <li><strong>Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙƒØ©:</strong> Ù…Ù†Ø¹ Ø³ÙˆØ¡ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</li>
                    </ul>
                </div>
            </div>
            
            <div class="warning-box">
                <h3 style="color: white; margin-top: 0;">ğŸ¯ Ø®Ù„Ø§ØµØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠ</h3>
                <p style="color: white; font-size: 18px; margin: 0;">
                    <strong>Ø§Ù„Ø­ÙƒÙ…:</strong> Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ ØºÙŠØ± Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø¨Ø³Ø¨Ø¨ Ø¹Ù†ØµØ±ÙŠ Ø§Ù„ÙØ§Ø¦Ø¯Ø© ÙˆØ§Ù„Ø®ØµÙ…. 
                    ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© Ø¬ÙˆÙ‡Ø±ÙŠØ© Ù„Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø¨Ø§.
                </p>
            </div>
        </div>

        <!-- Section 5: Recommendations -->
        <div class="section conclusion-section">
            <div class="section-header">
                <div class="section-number">5</div>
                <h1 class="section-title">Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„Ø¨Ø¯Ø§Ø¦Ù„ Ø§Ù„Ø´Ø±Ø¹ÙŠØ©</h1>
            </div>
            
            <div class="recommendation-box">
                <h3 style="color: white;">âœ… Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„ Ø§Ù„Ø´Ø±Ø¹ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div>
                        <h4 style="color: white; font-size: 18px;">1ï¸âƒ£ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ØªÙ†Ø§Ù‚ØµØ©</h4>
                        <ul style="color: white;">
                            <li>Ø´Ø±Ø§ÙƒØ© ÙÙŠ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© ØªØªÙ†Ø§Ù‚Øµ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹</li>
                            <li>Ø±Ø¨Ø­ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙØ§Ø¦Ø¯Ø© Ø«Ø§Ø¨ØªØ©</li>
                            <li>Ù…Ø®Ø§Ø·Ø± Ù…Ø´ØªØ±ÙƒØ©</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: white; font-size: 18px;">2ï¸âƒ£ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¨Ø©</h4>
                        <ul style="color: white;">
                            <li>Ø´Ø±Ø§ÙƒØ© ÙÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙÙ‚Ø·</li>
                            <li>Ù„Ø§ ÙÙˆØ§Ø¦Ø¯ Ø«Ø§Ø¨ØªØ©</li>
                            <li>Ù†Ø³Ø¨ Ù…Ø­Ø¯Ø¯Ø© Ù…Ù† Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="recommendation-box">
                <h3 style="color: white;">ğŸ“‹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h3>
                <ol style="color: white; margin-right: 20px;">
                    <li><strong>Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© ÙƒØ§Ù…Ù„Ø©:</strong> Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†ØµØ± Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©</li>
                    <li><strong>Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¢Ù„ÙŠØ© Ø§Ù„Ø®ØµÙ…:</strong> Ø¨Ù†Ø¸Ø§Ù… Ø¹Ø§Ø¯Ù„ Ù„Ø§ ÙŠØ¶Ù…Ù† Ø¹Ø§Ø¦Ø¯Ø§Ù‹ Ù…Ø³Ø¨Ù‚Ø§Ù‹</li>
                    <li><strong>Ø§Ø¹ØªÙ…Ø§Ø¯ Ù†Ù…ÙˆØ°Ø¬ Ø´Ø±Ø§ÙƒØ©:</strong> ÙŠØ­Ù‚Ù‚ Ø§Ù„Ù…ØµØ§Ù„Ø­ Ø¯ÙˆÙ† Ù…Ø®Ø§Ù„ÙØ© Ø´Ø±Ø¹ÙŠØ©</li>
                    <li><strong>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø±Ø¹ÙŠØ© Ø¯ÙˆØ±ÙŠØ©:</strong> Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±</li>
                </ol>
            </div>
        </div>

        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step-dot active"></div>
            <div class="step-dot active"></div>
            <div class="step-dot active"></div>
            <div class="step-dot active"></div>
            <div class="step-dot active"></div>
        </div>
    </div>

    <script>
        // Contract terms (fixed)
        const CONTRACT = {
            principal: 800000,
            interestRate: 10,
            issuanceDate: '2026-07-31',
            maturityDate: '2029-07-31',
            ebitdaTarget: 614000,
            valuationCap: 4000000,
            discountRate: 0.8,
            optionalDate: '2027-07-31'
        };

        // Variables
        const variables = {
            currentDate: '2027-12-31',
            nextRoundPrice: 2,
            currentShares: 1000000,
            ebitdaAchieved: 614000,
            liquidityPrice: 3,
            fairMarketValue: 4
        };

        let currentScenario = 'equity';

        function formatNumber(num) {
            return num.toLocaleString('ar-EG');
        }

        function calculateInterest(principal, rate, startDate, endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            const diffTime = Math.abs(end - start);
            const days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return (principal * rate / 100 * days) / 365;
        }

        function updateScenarioInputs(scenario) {
            const container = document.getElementById('scenarioInputs');
            let html = '<h3>Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ (Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªØ­Ù„ÙŠÙ„):</h3>';

            switch (scenario) {
                case 'equity':
                    html += `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø³Ø¹Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© (Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…):</label>
                                <input type="number" step="0.01" class="variable-input" value="${variables.nextRoundPrice}" 
                                       onchange="variables.nextRoundPrice = parseFloat(this.value); calculateScenario();">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                                <input type="number" class="variable-input" value="${variables.currentShares}" 
                                       onchange="variables.currentShares = parseInt(this.value); calculateScenario();">
                            </div>
                        </div>
                    `;
                    break;
                case 'ebitda':
                    html += `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø© (Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ):</label>
                                <input type="number" class="variable-input" value="${variables.ebitdaAchieved}" 
                                       onchange="variables.ebitdaAchieved = parseInt(this.value); calculateScenario();">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                                <input type="number" class="variable-input" value="${variables.currentShares}" 
                                       onchange="variables.currentShares = parseInt(this.value); calculateScenario();">
                            </div>
                        </div>
                    `;
                    break;
                case 'optional':
                    html += `
                        <div style="margin-top: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                            <input type="number" class="variable-input" value="${variables.currentShares}" 
                                   onchange="variables.currentShares = parseInt(this.value); calculateScenario();">
                        </div>
                    `;
                    break;
                case 'backstop':
                    html += `
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ© Ø§Ù„Ø¹Ø§Ø¯Ù„Ø© (Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…):</label>
                                <input type="number" step="0.01" class="variable-input" value="${variables.fairMarketValue}" 
                                       onchange="variables.fairMarketValue = parseFloat(this.value); calculateScenario();">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 10px; font-weight: 600;">Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                                <input type="number" class="variable-input" value="${variables.currentShares}" 
                                       onchange="variables.currentShares = parseInt(this.value); calculateScenario();">
                            </div>
                        </div>
                    `;
                    break;
            }

            container.innerHTML = html;
            calculateScenario();
        }

        function calculateScenario() {
            const interest = calculateInterest(CONTRACT.principal, CONTRACT.interestRate, CONTRACT.issuanceDate, variables.currentDate);
            const totalAmount = CONTRACT.principal + interest;
            const container = document.getElementById('calculationResults');
            
            let result = '';
            let shariahConcern = '';

            switch (currentScenario) {
                case 'equity':
                    const discountPrice = variables.nextRoundPrice * CONTRACT.discountRate;
                    const capPrice = CONTRACT.valuationCap / variables.currentShares;
                    const conversionPrice = Math.min(discountPrice, capPrice);
                    const shares = Math.floor(totalAmount / conversionPrice);
                    
                    shariahConcern = '<div class="warning-box" style="margin: 20px 0;"><strong>âš ï¸ Ù…Ø®Ø§ÙˆÙ Ø´Ø±Ø¹ÙŠØ©:</strong> Ø®ØµÙ… 20% ÙŠØ¹ØªØ¨Ø± Ø±Ø¨Ø§ ÙØ¶Ù„ - Ù…Ù†ÙØ¹Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù‚Ø±Ø¶</div>';
                    
                    result = `
                        <h3>ğŸ’¸ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‡Ù„</h3>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£ØµÙ„ÙŠ + Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø©:</div>
                            <div class="calc-value">${formatNumber(Math.round(totalAmount))} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø³Ø¹Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</div>
                            <div class="calc-value">${variables.nextRoundPrice} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø®ØµÙ… 20%:</div>
                            <div class="calc-value">${discountPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø³Ø¹Ø± Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…:</div>
                            <div class="calc-value">${capPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ø§Ù„Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø§Ø«Ù†ÙŠÙ†):</div>
                            <div class="calc-value">${conversionPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        ${shariahConcern}
                        <div class="final-outcome">
                            Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${formatNumber(shares)} Ø³Ù‡Ù… Ø¨Ù‚ÙŠÙ…Ø© ${formatNumber(Math.round(totalAmount))} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ
                        </div>
                    `;
                    break;

                case 'ebitda':
                    const ebitdaPrice = CONTRACT.valuationCap / variables.currentShares;
                    const ebitdaShares = Math.floor(totalAmount / ebitdaPrice);
                    const achieved = variables.ebitdaAchieved >= CONTRACT.ebitdaTarget;
                    
                    result = `
                        <h3>ğŸ“Š Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:</div>
                            <div class="calc-value">${formatNumber(CONTRACT.ebitdaTarget)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:</div>
                            <div class="calc-value">${formatNumber(variables.ebitdaAchieved)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚:</div>
                            <div class="calc-value">${achieved ? 'âœ… ØªØ­Ù‚Ù‚' : 'âŒ Ù„Ù… ÙŠØªØ­Ù‚Ù‚'}</div>
                        </div>
                        ${achieved ? `
                            <div class="calculation-row">
                                <div class="calc-label">Ø³Ø¹Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„:</div>
                                <div class="calc-value">${ebitdaPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                            </div>
                            <div class="final-outcome">
                                ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø±ÙŠØ§Ù‹ Ø¥Ù„Ù‰: ${formatNumber(ebitdaShares)} Ø³Ù‡Ù…
                            </div>
                        ` : `
                            <div class="warning-box" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">
                                Ù„Ù… ÙŠØªØ­Ù‚Ù‚ Ù‡Ø¯Ù Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¨Ø¹Ø¯ - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ
                            </div>
                        `}
                    `;
                    break;

                case 'optional':
                    const optPrice = CONTRACT.valuationCap / variables.currentShares;
                    const optShares = Math.floor(totalAmount / optPrice);
                    const available = new Date(variables.currentDate) >= new Date(CONTRACT.optionalDate);
                    
                    result = `
                        <h3>ğŸ”„ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠ</h3>
                        <div class="calculation-row">
                            <div class="calc-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©:</div>
                            <div class="calc-value">${CONTRACT.optionalDate}</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ:</div>
                            <div class="calc-value">${variables.currentDate}</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø­Ø§Ù„Ø©:</div>
                            <div class="calc-value">${available ? 'âœ… Ù…ØªØ§Ø­' : 'â³ ØºÙŠØ± Ù…ØªØ§Ø­ Ø¨Ø¹Ø¯'}</div>
                        </div>
                        ${available ? `
                            <div class="calculation-row">
                                <div class="calc-label">Ø³Ø¹Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„:</div>
                                <div class="calc-value">${optPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                            </div>
                            <div class="final-outcome">
                                ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø±ÙŠØ§Ù‹ Ø¥Ù„Ù‰: ${formatNumber(optShares)} Ø³Ù‡Ù…
                            </div>
                        ` : `
                            <div class="warning-box" style="background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);">
                                Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠ ØºÙŠØ± Ù…ØªØ§Ø­ Ø­ØªÙ‰ ${CONTRACT.optionalDate}
                            </div>
                        `}
                    `;
                    break;

                case 'backstop':
                    const fmvPrice = Math.min(variables.fairMarketValue, CONTRACT.valuationCap / variables.currentShares);
                    const backstopShares = Math.floor(totalAmount / fmvPrice);
                    
                    result = `
                        <h3>â° Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚</h3>
                        <div class="calculation-row">
                            <div class="calc-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚:</div>
                            <div class="calc-value">${CONTRACT.maturityDate}</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ© Ø§Ù„Ø¹Ø§Ø¯Ù„Ø©:</div>
                            <div class="calc-value">${variables.fairMarketValue.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…:</div>
                            <div class="calc-value">${(CONTRACT.valuationCap / variables.currentShares).toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="calculation-row">
                            <div class="calc-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ¹Ù„ÙŠ (Ø§Ù„Ø£Ù‚Ù„):</div>
                            <div class="calc-value">${fmvPrice.toFixed(4)} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ/Ø³Ù‡Ù…</div>
                        </div>
                        <div class="final-outcome">
                            Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª: Ø£) ${formatNumber(Math.round(totalAmount))} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ Ù†Ù‚Ø¯Ø§Ù‹<br>
                            Ø¨) ${formatNumber(backstopShares)} Ø³Ù‡Ù…
                        </div>
                    `;
                    break;
            }

            // Always show interest calculation (the main Shariah concern)
            const interestWarning = `
                <div class="warning-box" style="margin: 20px 0;">
                    <strong>ğŸš« Ø±Ø¨Ø§ Ø§Ù„Ù†Ø³ÙŠØ¦Ø©:</strong> ÙØ§Ø¦Ø¯Ø© Ù…ØªØ±Ø§ÙƒÙ…Ø© = ${formatNumber(Math.round(interest))} Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ 
                    (${CONTRACT.interestRate}% Ã— ${Math.ceil((new Date(variables.currentDate) - new Date(CONTRACT.issuanceDate)) / (1000 * 60 * 60 * 24))} ÙŠÙˆÙ… Ã· 365)
                    <br><strong>Ù‡Ø°Ø§ Ù…Ø­Ø±Ù… Ø´Ø±Ø¹Ø§Ù‹ Ø¨Ø§Ù„Ø¥Ø¬Ù…Ø§Ø¹</strong>
                </div>
            `;

            container.innerHTML = interestWarning + result;
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.scenario-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.scenario-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    currentScenario = this.dataset.scenario;
                    updateScenarioInputs(currentScenario);
                });
            });

            updateScenarioInputs('equity');
        });
    </script>
</body>
</html>
